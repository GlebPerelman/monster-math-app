<!-- FILE: templates/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Monster Math Game</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="stars" id="stars"></div>

    <div class="container">
        <!-- Login/Register Area -->
        <div id="auth-area">
            <div class="monster-header">üëæ üëΩ üõ∏</div>
            <h1>Monster Math</h1>
            <p style="text-align: center; color: #666; margin-bottom: 20px;">Login or Register to Play!</p>
            
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" placeholder="Enter username">
            </div>
            
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" placeholder="Enter password">
            </div>
            
            <button onclick="login()">Login</button>
            <button onclick="register()">Register</button>
            
            <div id="auth-message"></div>
        </div>

        <!-- Game Type Selection Area -->
        <div id="game-select-area" class="game-select-area hidden">
            <h1>Choose Your Game!</h1>
            <p style="text-align: center; color: #666; margin-bottom: 20px;">Welcome, <span id="select-player-name"></span>!</p>
            
            <div class="game-type-card" onclick="startGame('missing_number')">
                <h3>üî¢ Missing Number</h3>
                <p>Find the missing number in equations</p>
                <p style="margin-top: 10px; font-size: 0.9em;">Example: 5 + ? = 11</p>
            </div>

            <div class="game-type-card" onclick="startGame('more_or_less')" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                <h3>‚ûï‚ûñ More or Less</h3>
                <p>Answer questions about numbers</p>
                <p style="margin-top: 10px; font-size: 0.9em;">Example: 2 more than 15</p>
            </div>

            <div class="game-type-card" onclick="startGame('part_whole')" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                <h3>‚≠ï Part-Whole</h3>
                <p>Find the missing number in circles</p>
                <p style="margin-top: 10px; font-size: 0.9em;">Top = Bottom + Bottom</p>
            </div>

            <div class="game-type-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                <h3>üöÄ Coming Soon!</h3>
                <p>More game types on the way...</p>
            </div>

            <button onclick="logout()" class="logout-btn">Logout</button>
        </div>

        <!-- Game Area -->
        <div id="game-area" class="game-area hidden">
            <div class="timer">‚è±Ô∏è <span id="timer">0.0</span>s</div>
            
            <div class="score-board">
                <div class="score-item">Score: <span id="score">0</span></div>
                <div class="score-item">Streak: <span id="streak">0</span></div>
                <div class="score-item">Solved: <span id="solved">0</span></div>
            </div>

            <div class="puzzle-box">
                <div class="monster-display">
                    <span id="monster">üëæ</span>
                    <span id="alien">üëΩ</span>
                </div>
                
                <!-- Text equation (for missing_number and more_or_less) -->
                <div class="puzzle-equation" id="puzzle-equation">
                    Loading...
                </div>
                
                <!-- Part-Whole diagram (for part_whole game) -->
                <div id="part-whole-diagram" class="part-whole-diagram hidden">
                    <svg viewBox="0 0 300 250" xmlns="http://www.w3.org/2000/svg">
                        <!-- Lines connecting (drawn first so circles are on top) -->
                        <line x1="150" y1="60" x2="90" y2="180" stroke="#764ba2" stroke-width="3"/>
                        <line x1="150" y1="60" x2="210" y2="180" stroke="#764ba2" stroke-width="3"/>
                        
                        <!-- Top circle (whole) -->
                        <circle cx="150" cy="60" r="50" fill="white" stroke="#764ba2" stroke-width="4"/>
                        <text x="150" y="70" text-anchor="middle" font-size="32" font-weight="bold" fill="#764ba2" id="top-circle-text">?</text>
                        
                        <!-- Bottom left circle (part 1) -->
                        <circle cx="90" cy="180" r="50" fill="white" stroke="#667eea" stroke-width="4"/>
                        <text x="90" y="190" text-anchor="middle" font-size="32" font-weight="bold" fill="#667eea" id="left-circle-text">?</text>
                        
                        <!-- Bottom right circle (part 2) -->
                        <circle cx="210" cy="180" r="50" fill="white" stroke="#667eea" stroke-width="4"/>
                        <text x="210" y="190" text-anchor="middle" font-size="32" font-weight="bold" fill="#667eea" id="right-circle-text">?</text>
                    </svg>
                </div>
            </div>

            <div class="form-group">
                <input type="number" id="answer" placeholder="Your answer" readonly>
            </div>

            <!-- Number Pad -->
            <div class="number-pad">
                <button class="number-btn" onclick="addNumber(0)">0</button>
                <button class="number-btn" onclick="addNumber(1)">1</button>
                <button class="number-btn" onclick="addNumber(2)">2</button>
                <button class="number-btn" onclick="addNumber(3)">3</button>
                <button class="number-btn" onclick="addNumber(4)">4</button>
                <button class="number-btn" onclick="addNumber(5)">5</button>
                <button class="number-btn" onclick="addNumber(6)">6</button>
                <button class="number-btn" onclick="addNumber(7)">7</button>
                <button class="number-btn" onclick="addNumber(8)">8</button>
                <button class="number-btn" onclick="addNumber(9)">9</button>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="delete-btn" onclick="deleteNumber()">‚å´ Delete</button>
                <button class="check-btn" onclick="checkAnswer()">‚úì Check</button>
            </div>
            
            <div id="game-message"></div>

            <div class="nav-buttons">
                <button onclick="backToGameSelect()" class="back-btn">Change Game</button>
                <button onclick="saveAndShowStats()">View Stats</button>
                <button onclick="logout()" class="logout-btn">Logout</button>
            </div>
        </div>

        <!-- Stats Area -->
        <div id="stats-area" class="stats-area hidden">
            <h2>Your Stats</h2>
            <div id="stats-content"></div>
            <button onclick="backToGame()">Back to Game</button>
        </div>
    </div>

    <script src="/static/game.js"></script>
</body>
</html>